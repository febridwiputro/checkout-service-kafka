# Application Configuration
quarkus.application.name=checkout-service
quarkus.http.port=8081

# Database Configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=postgres
quarkus.datasource.password=postgres
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/checkout-service-db

# Hibernate Configuration
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.sql-load-script=no-file

# Flyway Configuration
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=1.0.0

# Kogito Configuration
kogito.service.url=http://localhost:8080
quarkus.kogito.devservices.enabled=false

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.category."id.checkout".level=DEBUG
quarkus.log.category."org.kie.kogito".level=INFO
quarkus.log.console.enable=true
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# OpenAPI / Swagger
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui

# ======================
# KAFKA INCOMING: checkout-order (for incoming checkout requests from external)
# ======================
mp.messaging.incoming.checkout-order.connector=smallrye-kafka
mp.messaging.incoming.checkout-order.topic=checkout.order.created
mp.messaging.incoming.checkout-order.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.checkout-order.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.checkout-order.bootstrap.servers=${kafka.bootstrap.servers}
mp.messaging.incoming.checkout-order.group.id=checkout-service-group
mp.messaging.incoming.checkout-order.auto.offset.reset=earliest
mp.messaging.incoming.checkout-order.enable.auto.commit=true

# ======================
# KAFKA INCOMING: checkout-order-processed-consumer (listen to processed orders)
# ======================
mp.messaging.incoming.checkout-order-processed-consumer.connector=smallrye-kafka
mp.messaging.incoming.checkout-order-processed-consumer.topic=checkout.order.processed
mp.messaging.incoming.checkout-order-processed-consumer.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.checkout-order-processed-consumer.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.checkout-order-processed-consumer.bootstrap.servers=${kafka.bootstrap.servers}
mp.messaging.incoming.checkout-order-processed-consumer.group.id=notification-service-group
mp.messaging.incoming.checkout-order-processed-consumer.auto.offset.reset=earliest
mp.messaging.incoming.checkout-order-processed-consumer.enable.auto.commit=true

# ======================
# KAFKA OUTGOING: checkout-order-processed (send processed order notifications)
# ======================
mp.messaging.outgoing.checkout-order-processed.connector=smallrye-kafka
mp.messaging.outgoing.checkout-order-processed.topic=checkout.order.processed
mp.messaging.outgoing.checkout-order-processed.value.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.checkout-order-processed.key.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.checkout-order-processed.bootstrap.servers=${kafka.bootstrap.servers}